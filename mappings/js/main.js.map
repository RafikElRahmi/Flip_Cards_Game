{"version":3,"sources":["ts/fliping.ts","ts/gameover.ts","ts/lvls.ts","ts/match.ts","ts/scatting.ts"],"names":["let","ele","document","querySelectorAll","gameOver","gameover","querySelector","setTimeout","classList","add","remove","forEach","current","addEventListener","checkFlipped","_a","Error","count","length","lvl","arr","i","push","err","matchs","element","checkMatched","children","getAttribute","index","randomNumber","Math","floor","random","cardsMatched","first","second","one","match","two","check","setAttribute"],"mappings":"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","file":"../../src/js/main.js","sourcesContent":["// relate clicks with flipping cards\r\nlet ele = document.querySelectorAll(\".solitaire\");\r\nele.forEach((current) => {\r\n  current.addEventListener(\"click\", () => {\r\n    try {\r\n      current.classList.add(\"flipped\");\r\n      checkFlipped();\r\n    } catch {\r\n      throw new Error(\"\");\r\n    }\r\n  });\r\n});\r\n","// function close the game when all cards has been matched\r\nfunction gameOver() {\r\n  let gameover: any = document.querySelector(\".gameon\");\r\n  setTimeout(() => {\r\n    gameover.classList.add(\"gameover\");\r\n    gameover.classList.remove(\"gameon\");\r\n  }, 1000);\r\n}\r\n","//checking level\r\nlet count: number = document.querySelectorAll(\".solitaire\").length;\r\nlet lvl: string = \"\";\r\nif (count === 28) {\r\n  lvl = \"easy\";\r\n} else if (count === 40) {\r\n  lvl = \"meduim\";\r\n} else if (count === 54) {\r\n  lvl = \"hard\";\r\n} else {\r\n  throw new Error(`wrong level`);\r\n}\r\n\r\n//setting card's image numbers depend on levels\r\nlet arr: number[] = [];\r\ntry {\r\n  if (lvl === \"easy\") {\r\n    for (let i = 27; i <= 54; i++) {\r\n      arr.push(i);\r\n    }\r\n  } else if (lvl === \"hard\") {\r\n    for (let i = 1; i <= 54; i++) {\r\n      arr.push(i);\r\n    }\r\n  } else if (lvl === \"meduim\") {\r\n    for (let i = 1; i <= 20; i++) {\r\n      arr.push(i);\r\n    }\r\n    for (let i = 27; i <= 46; i++) {\r\n      arr.push(i);\r\n    }\r\n  }\r\n} catch (err: any) {\r\n  throw new Error(err);\r\n}\r\n\r\n//scatting array\r\narr.forEach((element, index) => {\r\n  let randomNumber = Math.floor(Math.random() * arr.length);\r\n  [arr[index], arr[randomNumber]] = [arr[randomNumber], element];\r\n});\r\n","// checking if flipped car\r\nfunction checkFlipped(): any {\r\n  let matchs: any = document.querySelectorAll(\".flipped\");\r\n  if (matchs.length >= 2) {\r\n    //block cards from flipping\r\n    let block: any = document.querySelectorAll(\".solitaire\");\r\n    block.forEach((element: any) => {\r\n      element.classList.add(\"blocked\")\r\n      setTimeout(() => {\r\n        element.classList.remove(\"blocked\");\r\n      }, 2250);\r\n    });\r\n    //getting flipped card index\r\n    let firstCard: string = matchs[0].children[1].getAttribute(\"src\");\r\n    let secondCard: string = matchs[1].children[1].getAttribute(\"src\");\r\n    checkMatched(firstCard, secondCard);\r\n  }\r\n}\r\n\r\n//check if cards going to be matched\r\nlet cardsMatched: number = 0;\r\nfunction checkMatched(first: string, second: string) {\r\n  // extracting numbers from image source\r\n  let one: any = first.match(/\\d+/g),\r\n    two: any = second.match(/\\d+/g);\r\n\r\n  //macth the card\r\n  let check = document.querySelectorAll(\".flipped\");\r\n  if (\r\n    (+one % 2 === 1 && +two - +one === 1) ||\r\n    (+two % 2 === 1 && +one - +two === 1)\r\n  ) {\r\n    check.forEach((element) => {\r\n      //block cards from flipping\r\n      let blocks: any = document.querySelectorAll(\".solitaire\");\r\n      blocks.forEach((ele: any) => {\r\n        setTimeout(() => {\r\n          ele.classList.remove(\"blocked\");\r\n        }, 1000);\r\n      });\r\n      setTimeout(() => {\r\n        element.classList.add(\"matched\");\r\n        element.classList.remove(\"flipped\");\r\n      }, 1000);\r\n      cardsMatched++;\r\n      // check if game over\r\n      if (arr.length === cardsMatched) {\r\n        setTimeout(() => {\r\n          gameOver();\r\n        }, 1000);\r\n      }\r\n    });\r\n  }\r\n\r\n  //unflip the cards\r\n  else {\r\n    check.forEach((element) => {\r\n      setTimeout(() => {\r\n        element.classList.remove(\"flipped\");\r\n      }, 1500);\r\n      setTimeout(() => {\r\n        element.classList.add(\"unflipped\");\r\n      }, 1500);\r\n      setTimeout(() => {\r\n        element.classList.remove(\"unflipped\");\r\n      }, 2250);\r\n    });\r\n  }\r\n}\r\n","//setting solitaire images on sources\r\nlet element = document.querySelectorAll(\".back\");\r\nfor (let i = 0; i < element.length; i++) {\r\n  element[i].setAttribute(\"src\", `../images/img${arr[i]}.png`);\r\n}\r\n"]}